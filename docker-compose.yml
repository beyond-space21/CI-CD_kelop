services:
  goapp:
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      - POSTGRES_HOST=host.docker.internal
      - ELASTICSEARCH_HOST=host.docker.internal
    extra_hosts:
      - "host.docker.internal:host-gateway"
    ports:
      - "${GO_SERVER_PORT}:${GO_SERVER_PORT}"
    volumes:
      - ~/screts/.env:/app/.env:ro